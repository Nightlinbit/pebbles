<!DOCTYPE html>
<html>
    <head>
        {% block head %}
            <title>{{ metadata.og_context.title|escape }}</title>
            <meta property="og:title" content="{{ metadata.og_context.title|escape }}" />
            <meta property="og:description" content="{{ metadata.og_context.description|escape }}" />
            <meta property="og:url" content="{{ metadata.og_context.url|escape }}" />
            <meta property="og:image" content="{{ metadata.og_context.picture|escape }}" />
            <script src="/assets/built-in/js/codemirror.js"></script>
            <link href="/assets/built-in/css/home.css" rel="stylesheet">
            <link href="/assets/built-in/css/codemirror.css" rel="stylesheet">
        {% endblock %}
    </head>
    <body>
        <div class="site">
            <div class="site-container">
                {% include 'header.twig' %}

                <div class="top-left">
                    {% include 'sidebar.twig' %}
                </div>
                <div class="top-right">
                    <div class="mod-light">
                        <div id="normal-bar">
                            <h2>Editing {{ file.file_name|escape }}</h2>
                        </div>
                        <span class="text">
                            <form action="/request/update_file?file={{ file.file_name|escape }}" method="POST">
                                <textarea name="contents" placeholder="Site HTML" id="content-html" class="generic-input">{{ file.contents|escape }}</textarea>
                                <input type="submit" value="Update File">
                            </form>
                        </span> 

                        <script>
                            var editor = CodeMirror.fromTextArea(document.getElementById("content-html"), {
                                lineNumbers: true,
                                mode: "text/html",
                                theme: "base16-dark",
                                matchBrackets: true
                            });

                            editor.setSize(500, 300);
                        </script>
                    </div>
                </div>
            </div>
            {% include 'footer.twig' %}
        </div>
    </body>
</html>